"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const e=require("vue"),m=require("./index3.js"),q=require("../../input/index.js"),S=require("../../_utils/get-children/index.js"),h=require("../../_tokens/emits/index.js"),$=require("../../_hooks/use-list/index.js"),b=require("../../_hooks/use-run/index.js");require("../../loading/src/index2.js");require("../../_hooks/use-message/index.js");const C=require("../../dropdown/index.js"),E=e.defineComponent({name:"VSelect"}),k=e.defineComponent({...E,props:m.Props,emits:{[h.EMIT_UPDATE]:i=>!!i},setup(i,{emit:v}){const l=i,u=e.useSlots(),{run:g}=b.useRun(),{styles:V}=$.useList(l,"select"),d=e.computed(()=>u.default?S.getChildren(u.default(),"VOption"):[]),r=e.computed({get:()=>{var c,p;if(!d.value.length)return"";const t=d.value.filter(f=>{const o=f.props;return o?o.value?`${o.value}`==`${l.modelValue}`:`${o.label}`==`${l.modelValue}`:f.children.default()[0].children===l.modelValue});if(!t.length)return"";const n=t[0],s=n.children&&n.children.default()[0].children,j=(c=n.props)==null?void 0:c.label,a=(p=n.props)==null?void 0:p.value;return s||j||a&&a.toString()||""},set:t=>t}),x=(t,n,s)=>{r.value=t.toString(),n!==l.modelValue&&g(l.onChange,n,t,s),v(h.EMIT_UPDATE,n)};e.provide(m.SELECT_PROPS_TOKEN,e.reactive({setValue:x}));const _=V(["width"]);return(t,n)=>(e.openBlock(),e.createElementBlock("div",{class:"v-select",style:e.normalizeStyle(e.unref(_))},[e.createVNode(e.unref(C.VDropdown),{trigger:"click",disabled:t.disabled},{content:e.withCtx(()=>[e.renderSlot(t.$slots,"default")]),default:e.withCtx(()=>[e.createVNode(e.unref(q.VInput),{modelValue:e.unref(r),"onUpdate:modelValue":n[0]||(n[0]=s=>e.isRef(r)?r.value=s:null),name:t.name,size:t.size,disabled:t.disabled,placeholder:t.placeholder,clear:t.clear},null,8,["modelValue","name","size","disabled","placeholder","clear"])]),_:3},8,["disabled"])],4))}});exports.default=k;
