"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const e=require("vue"),x=require("./index3.js"),a=require("../../svg-icon/index.js"),$=require("../../button/index.js"),b=require("../../swap/index.js"),z=require("../../_svg/v-icon-cross/index.js"),I=require("../../_svg/v-icon-eye-off-outline/index.js"),E=require("../../_svg/v-icon-eye-outline/index.js"),v=require("../../_tokens/emits/index.js"),N=require("../../_hooks/use-input/index.js"),P=require("../../_hooks/use-list/index.js"),T=require("../../_hooks/use-run/index.js"),M=require("../../_hooks/use-global/index.js");require("../../loading/src/index2.js");require("../../_hooks/use-message/index.js");const D=require("../../_hooks/use-model/index.js"),L={class:"v-input__wrapper"},U=["type","max","min","maxlength","disabled","readonly","autofocus","autocomplete","name","placeholder","onKeyup"],F=e.defineComponent({name:"VInput"}),K=e.defineComponent({...F,props:x.Props,emits:{[v.EMIT_UPDATE]:u=>!!u},setup(u,{emit:d}){const t=u,{run:c}=T.useRun(),{getLang:h,getProp:k}=M.useGlobal(t),{styles:y,classes:g}=P.useList(k(["size"]),"input"),{keyword:r}=D.useModel(t,"modelValue",d,v.EMIT_UPDATE),{handleInput:p,handleClear:V,handleChange:f}=N.useInput(t,d,r),l=e.ref(!1),i=e.ref(t.type),B=e.computed(()=>h("input").value.search),m=n=>{c(t.onSearch,r.value,n)},w=n=>{const{search:o,enterSearch:s,onEnter:S}=e.toRefs(t);o.value&&s.value&&m(n),c(S.value,n.target.value,n)},j=()=>{if(l.value){i.value="text",l.value=!0;return}i.value="password",l.value=!1},q=y(["placeholderColor","background","textColor","activeBackground","activeBorderColor","width","height","fontSize"]),C=g(["size","disabled"],"v-input");return(n,o)=>(e.openBlock(),e.createElementBlock("div",{role:"input",class:e.normalizeClass(e.unref(C)),style:e.normalizeStyle(e.unref(q))},[e.createElementVNode("div",L,[e.renderSlot(n.$slots,"before"),n.icon?(e.openBlock(),e.createBlock(e.unref(a.VSvgIcon),{key:0,class:"v-input__icon",icon:n.icon,size:13},null,8,["icon"])):e.createCommentVNode("",!0),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":o[0]||(o[0]=s=>e.isRef(r)?r.value=s:null),class:"v-input__input",type:i.value,max:n.max,min:n.min,maxlength:n.maxLength,disabled:n.disabled,readonly:n.readonly,autofocus:n.autofocus,autocomplete:n.autocomplete,name:n.name,placeholder:n.placeholder,onInput:o[1]||(o[1]=(...s)=>e.unref(p)&&e.unref(p)(...s)),onChange:o[2]||(o[2]=(...s)=>e.unref(f)&&e.unref(f)(...s)),onKeyup:e.withKeys(w,["enter"]),onBlur:o[3]||(o[3]=(...s)=>n.onBlur&&n.onBlur(...s)),onFocus:o[4]||(o[4]=(...s)=>n.onFocus&&n.onFocus(...s))},null,40,U),[[e.vModelDynamic,e.unref(r)]]),n.clear?(e.openBlock(),e.createBlock(e.unref(a.VSvgIcon),{key:1,class:"v-input__clear-btn",icon:e.unref(z.default),size:14,"on-click":e.unref(V)},null,8,["icon","on-click"])):e.createCommentVNode("",!0),n.afterIcon?(e.openBlock(),e.createBlock(e.unref(a.VSvgIcon),{key:2,icon:n.afterIcon,size:14},null,8,["icon"])):e.createCommentVNode("",!0),n.showPassword?(e.openBlock(),e.createBlock(e.unref(b.VSwap),{key:3,modelValue:l.value,"onUpdate:modelValue":o[5]||(o[5]=s=>l.value=s),class:"v-input__show-password",type:"swap","icon-on":e.unref(E.default),"icon-off":e.unref(I.default),size:14,"on-change":j},null,8,["modelValue","icon-on","icon-off"])):e.createCommentVNode("",!0),e.renderSlot(n.$slots,"after")]),n.search?(e.openBlock(),e.createElementBlock("div",{key:0,class:"v-input__search",onClick:m},[e.renderSlot(n.$slots,"searchBtn",{},()=>[e.createVNode(e.unref($.VButton),{type:"primary",size:n.size},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(e.unref(B)),1)]),_:1},8,["size"])])])):e.createCommentVNode("",!0)],6))}});exports.default=K;
