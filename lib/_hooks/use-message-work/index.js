"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const s=require("vue"),b=require("../use-list/index.js"),j=require("../use-run/index.js");require("../../loading/src/index2.js");const q=require("../use-message/index.js"),C=(e,r)=>{const{classes:a,styles:d}=b.useList(e,r),{run:m}=j.useRun(),n=s.getCurrentInstance(),u=s.ref(!0),f=a(["type","placement","round"],`v-${r}`),v=d(["color","background","zIndex"],"zIndex"),x=s.computed(()=>e.placement.includes("top")),i=s.ref(e.offset);let o;const c=t=>{u.value=!1,m(e.onClose,t),clearTimeout(o)},g=()=>{q.removeInstance(n)},T=()=>{n.vnode.el&&n.vnode.el.parentElement.removeChild(n.vnode.el)},l=()=>{e.duration>0&&(o=setTimeout(()=>{c()},e.duration))};l();const y=s.computed(()=>{const t={};return e.placement.includes("bottom")?t.bottom=i.value+"px":t.top=i.value+"px",t});return{classList:f,styleList:v,visible:u,isPosition:x,offsetStyle:y,offsetVal:i,onBeforeLeave:g,onAfterLeave:T,clearTimer:()=>{!o||clearTimeout(o)},startTime:()=>{l()},handelClose:c}};exports.useMessageWork=C;
