"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const f=require("vue"),a=require("../../_tokens/emits/index.js"),l=require("../../_tokens/key/index2.js"),E=require("../use-run/index.js");require("../../loading/src/index2.js");require("../use-message/index.js");const h=(e,t,c,d)=>{const{run:N}=E.useRun(),o=s=>{const u=Math.ceil(e.total/Number(s));e.current>u&&t(a.EMIT_CURRENT,u),t(a.EMIT_PAGESIZE,Number(s))},T=(s,u)=>{e.disabled||(t(a.EMIT_CURRENT,s),N(e.onChange,s,e.pageSize,u))},i=f.ref("1");return{jumpCurrent:i,selectChange:o,handelChange:T,handleInput:()=>{e.disabled||(Number(i.value)>c.value.length&&(i.value=String(c.value.length)),t(a.EMIT_CURRENT,Number(i.value)))},handelClick:s=>{if(e.disabled)return;const u=s.target;if(u.className.includes(l.PAGINATION_ITEM)){let n=Number(u.textContent);const I=e.pagerCount,r=e.current,g=I-2;u.className.includes(l.PAGINATION_PREV)&&(n=r-g),u.className.includes(l.PAGINATION_NEXT)&&(n=r+g),Number.isNaN(n)||(n<1&&(n=1),n>d.value&&(n=d.value)),n!==r&&(t(a.EMIT_CURRENT,n),N(e.onChange,n,e.pageSize,s))}}}};exports.useTurnPage=h;
