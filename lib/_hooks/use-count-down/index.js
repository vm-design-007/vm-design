"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const a=require("vue"),m=require("../../_utils/is/index.js"),C=e=>m.isBrowser?window.requestAnimationFrame(e):-1,A=e=>{m.isBrowser&&window.cancelAnimationFrame(e)},i=1e3,l=60*i,f=60*l,D=24*f,B=e=>{const r=Math.floor(e/D),u=Math.floor(e%D/f),t=Math.floor(e%f/l),s=Math.floor(e%l/i),n=Math.floor(e%i);return{total:e,days:r,hours:u,minutes:t,seconds:s,milliseconds:n}},k=(e,r)=>Math.floor(e/i)===Math.floor(r/i),q=e=>{let r,u,t,s;const n=a.ref(e.time),R=a.computed(()=>B(n.value)),d=()=>Math.max(u-performance.now(),0),v=o=>{var T;n.value=o,o===0&&(c(),(T=e.onFinish)==null||T.call(e))},w=()=>{!m.isBrowser||(e.millisecond?M():h())},S=()=>{t||(u=performance.now()+n.value,t=!0,w())},g=(o=e.time)=>{c(),n.value=o},c=()=>{t=!1,A(r)},M=()=>{r=C(()=>{t&&(v(d()),n.value>0&&M())})},h=()=>{r=C(()=>{if(t){const o=d();(!k(o,n.value)||o===0)&&v(o),n.value>0&&h()}})};return a.onBeforeUnmount(c),a.onActivated(()=>{s&&(t=!0,s=!1,w())}),a.onDeactivated(()=>{t&&(c(),s=!0)}),{start:S,pause:c,reset:g,current:R}};exports.useCountDown=q;
