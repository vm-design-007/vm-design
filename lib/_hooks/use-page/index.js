"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const o=require("vue"),h=require("../../_tokens/emits/index.js"),x=require("../use-run/index.js");require("../../loading/src/index2.js");require("../use-message/index.js");const C=(e,d)=>{const{run:i}=x.useRun(),n=o.computed(()=>{const t=Math.floor(e.total/e.pageSize);return e.total%e.pageSize===0?t:t+1}),M=o.computed(()=>{const t=Number(e.pagerCount),r=Number(e.current),v=(t-1)/2;let s=!1,c=!1;const a=[];if(n.value>t)e.current>t-v&&(s=!0),e.current<n.value-v&&(c=!0);else{for(let u=2;u<n.value;u++)a.push(u);return a}if(!s&&c)for(let u=2;u<t;u++)a.push(u);else if(s&&!c){const u=n.value-(t-2);for(let l=u;l<n.value;l++)a.push(l)}else if(s&&c){const u=Math.floor(t/2)-1;for(let l=r-u;l<=r+u;l++)a.push(l)}else for(let u=2;u<t;u++)a.push(u);return a}),P=t=>{if(e.disabled)return;let r;i({next:()=>{const s=e.current===n.value?n.value:e.current+1;d(h.EMIT_CURRENT,s),i(e.onNext,s,e.pageSize)},prev:()=>{r=e.current===1?1:e.current-1,d(h.EMIT_CURRENT,r),i(e.onPrev,r,e.pageSize)}}[t])},f=o.ref(!1),g=o.ref(!1);return o.watchEffect(()=>{const t=Number(e.pagerCount),r=(t-1)/2;f.value=!1,g.value=!1,n.value>t&&(e.current>t-r&&(f.value=!0),e.current<n.value-r&&(g.value=!0))}),{pages:M,showNextMore:g,showPrevMore:f,maxCount:n,handelTurnPages:P}};exports.usePage=C;
