"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const e=require("vue"),h=require("./index3.js"),m=require("../../button/index.js"),x=require("../../text/index.js"),s=require("../../_utils/index3.js"),N=require("../../_model/calendar/index.js"),w=require("../../_model/calendar/index2.js"),D={key:0,class:"v-calendar__header"},S={class:"v-calendar__time"},$={class:"v-calendar__time-now"},M={class:"v-calendar__option"},z={class:"v-calendar__week"},b={class:"v-calendar__day"},j=["onClick"],T={class:"v-calendar__solar"},q={key:0,class:"v-calendar__lunar"},A={key:1,class:"v-calendar__memorandum"},L=e.defineComponent({name:"VCalendar"}),F=e.defineComponent({...L,props:h.Props,emits:h.Emits,setup(k,{emit:_}){const o=k,l=e.ref(o.date.getFullYear()),r=e.ref(o.date.getMonth()),c=e.ref(o.date.getDate()),{AllMonthDays:f,changeLastMonth:v,changeNextMonth:p}=w.diffDay(l,r),y=(t,a)=>a===c.value&&t===r.value+1?"v-calendar__day-today":t!==r.value+1?"v-calendar__not-month":"",d=t=>{({last:()=>v(),next:()=>p(),now:()=>{r.value=o.date.getMonth(),l.value=o.date.getFullYear(),c.value=o.date.getDate()}})[t]()},g=e.computed(()=>`${l.value}\u5E74 ${s.addZero(r.value+1)}\u6708 ${s.addZero(c.value)}\u65E5`),E=(t,a)=>{c.value=a,t<r.value+1?v():t>r.value+1&&p(),_("change-date",{year:l.value,month:t||r.value,date:a})},C=e.computed(()=>{const{borderColor:t,dayCellHeight:a,weekCellHeight:n}=o;return{"--v-calendar-border-color":t,"--v-calendar-day-height":s.sizeChange(a),"--v-calendar-week-height":s.sizeChange(n)}}),B=t=>o.memorandum?Object.keys(o.memorandum).includes(t):!1;return e.watch(()=>r.value,t=>{_("change-switch",{year:l.value,month:t+1,date:c.value})}),(t,a)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["v-calendar",{"v-calendar__border":t.border}]),style:e.normalizeStyle(e.unref(C))},[t.showHeader?(e.openBlock(),e.createElementBlock("header",D,[e.createElementVNode("div",S,[e.createElementVNode("span",$,e.toDisplayString(e.unref(g)),1)]),e.createElementVNode("div",M,[e.createElementVNode("div",{class:"v-calendar__last",onClick:a[0]||(a[0]=n=>d("last"))},[e.renderSlot(t.$slots,"last-change",{},()=>[e.createVNode(e.unref(m.VButton),{text:"",size:"mini",type:"primary"},{default:e.withCtx(()=>[e.createTextVNode("\u4E0A\u4E2A\u6708")]),_:1})])]),e.createElementVNode("div",{class:"v-calendar__now",onClick:a[1]||(a[1]=n=>d("now"))},[e.renderSlot(t.$slots,"now-change",{},()=>[e.createVNode(e.unref(m.VButton),{text:"",size:"mini",type:"primary"},{default:e.withCtx(()=>[e.createTextVNode("\u4ECA\u5929")]),_:1})])]),e.createElementVNode("div",{class:"v-calendar__next",onClick:a[2]||(a[2]=n=>d("next"))},[e.renderSlot(t.$slots,"next-change",{},()=>[e.createVNode(e.unref(m.VButton),{text:"",size:"mini",type:"primary"},{default:e.withCtx(()=>[e.createTextVNode("\u4E0B\u4E2A\u6708")]),_:1})])])])])):e.createCommentVNode("",!0),e.createElementVNode("ul",z,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(N.WEEK_DATA),(n,i)=>(e.openBlock(),e.createElementBlock("li",{key:i,class:"v-calendar__week-li"},e.toDisplayString(n),1))),128))]),e.createElementVNode("ul",b,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(f),(n,i)=>(e.openBlock(),e.createElementBlock("li",{key:i,class:e.normalizeClass(["v-calendar__day-li",y(n.cMonth,n.cDay)]),onClick:u=>E(n.cMonth,n.cDay)},[e.createElementVNode("span",T,e.toDisplayString(n.cDay),1),t.lunar?(e.openBlock(),e.createElementBlock("span",q,e.toDisplayString(n.festival||n.IDayCn),1)):e.createCommentVNode("",!0),B(n.date)?(e.openBlock(),e.createElementBlock("div",A,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.memorandum[n.date],(u,V)=>(e.openBlock(),e.createBlock(e.unref(x.VText),{key:V,type:u.type||"default",size:14,center:"",class:"v-calendar__memorandum-item"},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(u.content),1)]),_:2},1032,["type"]))),128))])):e.createCommentVNode("",!0)],10,j))),128))])],6))}});exports.default=F;
