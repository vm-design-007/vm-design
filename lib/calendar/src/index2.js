"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const e=require("vue"),B=require("./index3.js"),m=require("../../svg-icon/index.js"),D=require("../../_svg/v-icon-chevron-left/index.js"),E=require("../../_svg/v-icon-chevron-right/index.js"),_=require("../../_utils/utils/index.js"),j=require("../../_utils/is/index.js"),q=require("../../_hooks/use-calendar/index.js"),V=require("../../_hooks/use-list/index.js"),M=require("../../_hooks/use-run/index.js"),N=require("../../_hooks/use-global/index.js");require("../../loading/src/index2.js");require("../../_hooks/use-message/index.js");const L={key:0,class:"v-calendar__header"},S={class:"v-calendar__option"},b={class:"v-calendar__now-time"},F={class:"v-calendar__week"},z={class:"v-calendar__day"},H=["onClick"],I={class:"v-calendar__solar"},P={key:0,class:"v-calendar__lunar"},A=e.defineComponent({name:"VCalendar"}),T=e.defineComponent({...A,props:B.Props,setup(h){const r=h,s=e.computed(()=>j.isDate(r.date)?r.date:new Date),t=e.reactive({year:s.value.getFullYear(),month:s.value.getMonth()+1,date:s.value.getDate()}),{AllMonthDays:v,changeLastMonth:c,changeNextMonth:d}=q.useCalendar(t),{getLang:p}=N.useGlobal(),{run:u}=M.useRun(),{styles:k,classes:g}=V.useList(r,"calendar"),f=e.computed(()=>p("calendar").value.weekList),x=(n,o)=>o===t.date&&n===t.month?"v-calendar__day-today":n!==t.month?"v-calendar__not-month":"",l=n=>{const o={last:()=>c(),next:()=>d(),now:()=>{t.month=r.date.getMonth(),t.year=r.date.getFullYear(),t.date=r.date.getDate()}};o[n]&&o[n]()},y=e.computed(()=>`${t.year} / ${_.addZero(t.month)} / ${_.addZero(t.date)}`),C=n=>{const o=t.date;t.date=n.day,n.year>t.year||n.month>t.month?d():(n.year>t.year||n.month<t.month)&&c(),o!==n.day&&u(r.onChangeDate,{year:t.year,month:n.month||t.month,date:n.day})};e.watch(()=>t.month,n=>{u(r.onChangeMonth,{year:t.year,month:n,date:t.date})});const w=k(["borderColor","dayCellHeight","weekCellHeight"]),$=g(["border"],"v-calendar");return(n,o)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(e.unref($)),style:e.normalizeStyle(e.unref(w))},[n.showHeader?(e.openBlock(),e.createElementBlock("header",L,[e.createVNode(e.unref(m.VSvgIcon),{icon:e.unref(D.default),onClick:o[0]||(o[0]=e.withModifiers(a=>l("last"),["stop"]))},null,8,["icon"]),e.createElementVNode("div",S,[e.createElementVNode("span",b,e.toDisplayString(e.unref(y)),1),e.createElementVNode("span",{class:"v-calendar__now-date",onClick:o[1]||(o[1]=e.withModifiers(a=>l("now"),["stop"]))},"\u4ECA\u5929")]),e.createVNode(e.unref(m.VSvgIcon),{icon:e.unref(E.default),onClick:o[2]||(o[2]=e.withModifiers(a=>l("next"),["stop"]))},null,8,["icon"])])):e.createCommentVNode("",!0),e.createElementVNode("div",F,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(f),(a,i)=>(e.openBlock(),e.createElementBlock("div",{key:i,class:"v-calendar__week-item"},e.toDisplayString(a),1))),128))]),e.createElementVNode("div",z,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(v),(a,i)=>(e.openBlock(),e.createElementBlock("div",{key:i,class:e.normalizeClass(["v-calendar__day-item",x(a.month,a.day)]),onClick:e.withModifiers(Y=>C(a),["stop"])},[e.createElementVNode("span",I,e.toDisplayString(a.day),1),n.lunar?(e.openBlock(),e.createElementBlock("span",P,e.toDisplayString(a.lunarFestival||a.festival||a.term||a.IDayCn),1)):e.createCommentVNode("",!0)],10,H))),128))])],6))}});exports.default=T;
