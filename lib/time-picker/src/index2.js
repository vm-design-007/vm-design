"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const e=require("vue"),C=require("./index3.js"),x=require("../../input/index.js"),b=require("../../trigger/index.js"),n=require("../../_utils/utils/index.js"),p=require("../../_utils/is/index.js"),w=require("../../_svg/v-icon-clock-time/index.js"),E=require("../../_tokens/emits/index.js"),y={class:"v-time-picker"},T={class:"v-time-picker__content"},S=["onClick"],Z=["onClick"],B=["onClick"],M={class:"v-time-picker__option"},$=e.defineComponent({name:"VTimePicker"}),q=e.defineComponent({...$,props:C.Props,emits:{[E.EMIT_TIME]:c=>p.isString(c)},setup(c,{emit:V}){const N=c,l=new Date,o=e.reactive({hour:n.addZero(l.getHours()),minute:n.addZero(l.getMinutes()),second:n.addZero(l.getSeconds())}),s=e.computed({get:()=>N.time,set:i=>{V(E.EMIT_TIME,i)}}),v=e.ref(),d=(i=!0)=>{if(i&&!p.isString(i)&&(s.value=`${o.hour}:${o.minute}:${o.second}`),i==="now"){const r=new Date;o.hour=n.addZero(r.getHours()),o.minute=n.addZero(r.getMinutes()),o.second=n.addZero(r.getSeconds())}p.isBoolean(i)&&v.value.handelClose()},f=e.ref(),k=e.ref(),a=e.ref(),u=e.computed(()=>a.value.querySelector(".v-time-picker__second-item").offsetHeight),h=async()=>{await e.nextTick(),f.value.scrollTo({top:(Number(o.hour)===0?24:Number(o.hour)-2)*u.value,behavior:"smooth"}),k.value.scrollTo({top:(Number(o.minute)-2)*u.value,behavior:"smooth"}),a.value.scrollTo({top:(Number(o.second)-2)*u.value,behavior:"smooth"})},m=(i,r)=>{o[r]=n.addZero(i)};return e.watch(()=>o,()=>{h()},{deep:!0}),(i,r)=>{const _=e.resolveComponent("v-button");return e.openBlock(),e.createElementBlock("div",y,[e.createVNode(e.unref(b.VTrigger),{ref_key:"triggerInstance",ref:v,trigger:"click",disabled:i.disabled,"on-open":h},{content:e.withCtx(()=>[e.createElementVNode("div",T,[e.createElementVNode("div",{ref_key:"hoverEl",ref:f,class:"v-time-picker__hour"},[(e.openBlock(),e.createElementBlock(e.Fragment,null,e.renderList(24,t=>e.createElementVNode("div",{key:t,class:e.normalizeClass(["v-time-picker__hour-item",{"v-time-picker__hour-active":e.unref(n.addZero)(t===24?0:t).toString()===o.hour}]),onClick:e.withModifiers(g=>m(t===24?0:t,"hour"),["stop"])},e.toDisplayString(e.unref(n.addZero)(t===24?0:t)),11,S)),64))],512),e.createElementVNode("div",{ref_key:"minuteEl",ref:k,class:"v-time-picker__minute"},[(e.openBlock(),e.createElementBlock(e.Fragment,null,e.renderList(59,t=>e.createElementVNode("div",{key:t,class:e.normalizeClass(["v-time-picker__minute-item",{"v-time-picker__minute-active":e.unref(n.addZero)(t).toString()===o.minute}]),onClick:e.withModifiers(g=>m(t,"minute"),["stop"])},e.toDisplayString(e.unref(n.addZero)(t)),11,Z)),64))],512),e.createElementVNode("div",{ref_key:"secondEl",ref:a,class:"v-time-picker__second"},[(e.openBlock(),e.createElementBlock(e.Fragment,null,e.renderList(59,t=>e.createElementVNode("div",{key:t,class:e.normalizeClass(["v-time-picker__second-item",{"v-time-picker__second-active":e.unref(n.addZero)(t).toString()===o.second}]),onClick:e.withModifiers(g=>m(t,"second"),["stop"])},e.toDisplayString(e.unref(n.addZero)(t)),11,B)),64))],512)]),e.createElementVNode("div",M,[e.createVNode(_,{size:"mini","on-click":()=>d("now")},{default:e.withCtx(()=>[e.createTextVNode("\u5F53\u524D")]),_:1},8,["on-click"]),e.createVNode(_,{size:"mini","on-click":()=>d(!1)},{default:e.withCtx(()=>[e.createTextVNode("\u53D6\u6D88")]),_:1},8,["on-click"]),e.createVNode(_,{type:"primary",size:"mini","on-click":()=>d(!0)},{default:e.withCtx(()=>[e.createTextVNode("\u786E\u5B9A")]),_:1},8,["on-click"])])]),default:e.withCtx(()=>[e.createVNode(e.unref(x.VInput),{modelValue:e.unref(s),"onUpdate:modelValue":r[0]||(r[0]=t=>e.isRef(s)?s.value=t:null),autocomplete:"off",type:"text",placeholder:i.placeholder||"\u8BF7\u9009\u62E9\u65F6\u95F4",disabled:i.disabled,size:i.size,clear:i.clear,"after-icon":e.unref(w.default)},null,8,["modelValue","placeholder","disabled","size","clear","after-icon"])]),_:1},8,["disabled"])])}}});exports.default=q;
