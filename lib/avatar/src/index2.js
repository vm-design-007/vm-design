"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const e=require("vue"),v=require("./index3.js"),g=require("../../_utils/index2.js"),a=require("../../_utils/index3.js"),S=require("../../svg-icon/index.js"),y=require("../../_hooks/use-filter-props/index.js"),z={key:1,class:"v-avatar__text"},h=["alt"],B={class:"v-avatar__error-text"},C=e.defineComponent({name:"VAvatar"}),$=e.defineComponent({...C,props:v.Props,emits:v.Emits,setup(d,{emit:_}){const r=d,f=e.useSlots(),l=e.ref(!0),i=e.ref(r.lazy),c=e.ref(null),m=e.computed(()=>{const{round:o,size:t,fit:s}=r;return["v-avatar__img",{"v-avatar__round":o,[`v-avatar__${t}`]:a.isString(t),[`v-avatar__${s}`]:s}]}),p=e.computed(()=>{const{size:o,round:t}=r;return["v-avatar",{"v-avatar__round":t,[`v-avatar__${o}`]:a.isString(o)}]}),u=e.computed(()=>{const{background:o,size:t,fontColor:s,fontSize:n}=r;return{"--v-avatar-size":a.isNumber(t)?t+"px":"","--v-avatar-background-color":o,"--v-avatar-font-color":s,"--v-avatar-font-size":a.sizeChange(n)}}),k=()=>{const o=c.value,t=n=>{l.value=n,i.value=n},s=y.useFilterProps(r,["src","errSrc","rootMargin","lazy"]);g.loadImage(o,s,_,t)};return e.onMounted(()=>{!f.icon&&!r.icon&&!r.text&&k()}),(o,t)=>l.value?(e.openBlock(),e.createElementBlock("div",{key:0,role:"img",class:e.normalizeClass(e.unref(p)),style:e.normalizeStyle(e.unref(u))},[o.$slots.icon||o.icon?(e.openBlock(),e.createBlock(e.unref(S.VSvgIcon),{key:0,size:o.fontSize,color:o.fontColor,icon:o.icon},{default:e.withCtx(()=>[e.renderSlot(o.$slots,"icon")]),_:3},8,["size","color","icon"])):o.text?(e.openBlock(),e.createElementBlock("span",z,e.toDisplayString(o.text),1)):e.withDirectives((e.openBlock(),e.createElementBlock("img",{key:2,ref_key:"VAvatarImg",ref:c,src:"",class:e.normalizeClass(e.unref(m)),alt:o.alt},null,10,h)),[[e.vShow,i.value]])],6)):(e.openBlock(),e.createElementBlock("div",{key:1,class:"v-avatar__error",style:e.normalizeStyle(e.unref(u))},[e.renderSlot(o.$slots,"error",{},()=>[e.createElementVNode("span",B,e.toDisplayString(o.alt||"\u52A0\u8F7D\u5931\u8D25"),1)])],4))}});exports.default=$;
