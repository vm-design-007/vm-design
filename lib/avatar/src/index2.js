"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const e=require("vue"),p=require("./index3.js"),f=require("../../svg-icon/index.js"),n=require("../../_utils/is/index.js"),m=require("../../_hooks/use-list/index.js"),y=require("../../_hooks/use-props/index.js"),_=require("../../_hooks/use-load-img/index.js");require("../../loading/src/index2.js");require("../../_hooks/use-message/index.js");const S={key:1,class:"v-avatar__text"},g=["alt"],z={class:"v-avatar__error-text"},h=e.defineComponent({name:"VAvatar"}),B=e.defineComponent({...h,props:p.Props,setup(i){const s=i,l=e.useSlots(),{filter:a}=y.useProps(s),r=e.ref(),{isSuccess:c,isShowNode:u}=_.useLoadImg(r,a(["src","errSrc","rootMargin","lazy","onLoad","onError"]),()=>!l.icon&&!s.icon&&!s.text&&r.value),{styles:d,classes:k}=m.useList(s,"avatar"),v=k(["round","fit",{key:"size",callback:()=>n.isString(s.size)}],"v-avatar"),t=d(["background","fontColor","fontSize",{key:"size",callback:()=>n.isNumber(s.size)}]);return(o,j)=>e.unref(c)?(e.openBlock(),e.createElementBlock("div",{key:0,role:"img",class:e.normalizeClass(e.unref(v)),style:e.normalizeStyle(e.unref(t))},[o.$slots.icon||o.icon?(e.openBlock(),e.createBlock(e.unref(f.VSvgIcon),{key:0,size:o.fontSize||15,color:o.fontColor,icon:o.icon},{default:e.withCtx(()=>[e.renderSlot(o.$slots,"icon")]),_:3},8,["size","color","icon"])):o.text?(e.openBlock(),e.createElementBlock("span",S,e.toDisplayString(o.text),1)):(e.openBlock(),e.createElementBlock("img",{key:2,ref_key:"avatarEl",ref:r,class:"v-avatar__img",src:"",style:e.normalizeStyle(e.unref(u)?"":"visibility: hidden"),alt:o.alt},null,12,g))],6)):(e.openBlock(),e.createElementBlock("div",{key:1,class:"v-avatar__error",style:e.normalizeStyle(e.unref(t))},[e.renderSlot(o.$slots,"error",{},()=>[e.createElementVNode("span",z,e.toDisplayString(o.alt||"\u52A0\u8F7D\u5931\u8D25"),1)])],4))}});exports.default=B;
