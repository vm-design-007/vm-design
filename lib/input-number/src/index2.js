"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const n=require("vue"),v=require("./index3.js"),h=require("../../_svg/v-icon-chevron-left/index.js"),y=require("../../_svg/v-icon-chevron-right/index.js"),k=require("../../_svg/v-icon-chevron-up/index.js"),V=require("../../_svg/v-icon-chevron-down/index.js"),z=require("../../input/index.js"),t=require("../../button/index.js"),u=require("../../_utils/is/index.js"),b=require("../../_tokens/emits/index.js"),g=require("../../_hooks/use-run/index.js");require("../../loading/src/index2.js");require("../../_hooks/use-message/index.js");const N={role:"input",class:"v-input-number"},j={class:"v-input-number__wrapper"},q=n.defineComponent({name:"VInputNumber"}),B=n.defineComponent({...q,props:v.Props,emits:{[b.EMIT_UPDATE]:l=>u.isNumber(l)},setup(l,{emit:f}){const s=l,{run:d}=g.useRun(),i=n.computed({get:()=>{const{modelValue:e,precision:o}=s;return u.isNumber(e)?Number(e.toFixed(u.isNumber(o)?o:0)):0},set:e=>{f(b.EMIT_UPDATE,Number(e))}}),c=n.computed(()=>{const{step:e,min:o}=s;return!o&&!u.isNumber(o)?!1:i.value-Math.abs(e)<o}),m=n.computed(()=>{const{step:e,max:o}=s;return!o&&!u.isNumber(o)?!1:i.value+Math.abs(e)>o}),r=e=>{const{disabled:o,readonly:a,step:p}=s;if(o||a)return;d({minus:()=>{i.value-=p},plus:()=>{i.value+=p}}[e]),d(s.onChange,i.value)};return(e,o)=>(n.openBlock(),n.createElementBlock("div",N,[e.model==="button"?(n.openBlock(),n.createBlock(n.unref(t.VButton),{key:0,class:"v-input-number__minus",type:e.buttonType||"primary",size:e.size,disabled:e.disabled||n.unref(c),"before-icon":n.unref(h.default),"on-click":()=>r("minus")},null,8,["type","size","disabled","before-icon","on-click"])):n.createCommentVNode("",!0),n.createElementVNode("div",j,[n.createVNode(n.unref(z.VInput),{modelValue:n.unref(i),"onUpdate:modelValue":o[0]||(o[0]=a=>n.isRef(i)?i.value=a:null),type:"number",max:e.max,min:e.min,disabled:e.disabled,readonly:e.readonly,autofocus:e.autofocus,name:e.name,size:e.size,clear:e.clear,placeholder:e.placeholder,"on-blur":e.onBlur,"on-focus":e.onFocus,"on-input":e.onInput,"on-change":e.onChange},{after:n.withCtx(()=>[e.model==="switch"?(n.openBlock(),n.createElementBlock("div",{key:0,class:n.normalizeClass(["v-input-number__switch",`v-input-number__switch-${e.size}`])},[n.createVNode(n.unref(t.VButton),{disabled:e.disabled||n.unref(m),size:e.size,type:e.buttonType||"default","before-icon":n.unref(k.default),onclick:()=>r("plus")},null,8,["disabled","size","type","before-icon","onclick"]),n.createVNode(n.unref(t.VButton),{disabled:e.disabled||n.unref(c),size:e.size,type:e.buttonType||"default","before-icon":n.unref(V.default),"on-click":()=>r("minus")},null,8,["disabled","size","type","before-icon","on-click"])],2)):n.createCommentVNode("",!0)]),_:1},8,["modelValue","max","min","disabled","readonly","autofocus","name","size","clear","placeholder","on-blur","on-focus","on-input","on-change"])]),e.model==="button"?(n.openBlock(),n.createBlock(n.unref(t.VButton),{key:1,class:"v-input-number__plus",type:e.buttonType||"primary",size:e.size,disabled:e.disabled||n.unref(m),"before-icon":n.unref(y.default),"on-click":()=>r("plus")},null,8,["type","size","disabled","before-icon","on-click"])):n.createCommentVNode("",!0)]))}});exports.default=B;
