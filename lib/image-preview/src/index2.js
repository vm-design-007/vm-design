"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const e=require("vue"),p=require("./index3.js"),a=require("../../toolbar/index.js"),t=require("../../toolbar-item/index.js"),w=require("../../_utils/index3.js"),x=require("../../_components/svg/index2.js"),y=require("../../_components/svg/index3.js"),_=require("../../_components/svg/index5.js"),B=require("../../_components/svg/index6.js"),N=require("../../_components/svg/index9.js"),T=require("../../_components/svg/index10.js"),j=require("../../_components/svg/index15.js"),q=require("../../_components/svg/index16.js"),L=["onClick"],z=["src"],E=e.defineComponent({name:"VImagePreview"}),F=e.defineComponent({...E,props:p.Props,emits:p.Emits,setup(k,{emit:u}){const r=k,l=e.ref(1),s=e.ref(0),i=e.ref(r.showIndex>r.imgList.length-1?0:r.showIndex),C=()=>{r.imgList.forEach(n=>{const c=new Image;c.src=n})},d=()=>{w.keepDecimal(l.value,1)<=.2||(l.value-=.2)},m=()=>{l.value>=10||(l.value+=.2)},V=()=>{C()},f=o=>{u("close",o),u("update:visible",!1)},b=o=>{r.modalClose&&f(o)},I=o=>{if(o.preventDefault(),o.deltaY>1){d();return}m()},v=()=>{l.value=1,s.value=0},g=o=>{v(),{next:()=>{if(i.value<r.imgList.length-1){i.value++;return}i.value=0},prev:()=>{if(i.value>0){i.value--;return}i.value=r.imgList.length-1}}[o]()},h=({key:o})=>{({1:()=>d(),2:()=>m(),3:()=>v(),4:()=>{s.value+=90},5:()=>{s.value+=90}})[o]()};return(o,n)=>(e.openBlock(),e.createBlock(e.Transition,{name:"v-image-preview",onEnter:V},{default:e.withCtx(()=>[o.visible?(e.openBlock(),e.createElementBlock("div",{key:0,class:"v-image-preview",style:e.normalizeStyle({zIndex:o.zIndex}),onClick:e.withModifiers(b,["self"]),onMousewheel:I},[e.createElementVNode("img",{class:"v-image-preview__exhibition",draggable:"false",src:o.imgList[i.value],style:e.normalizeStyle({transform:`scale(${l.value}) rotate(${s.value}deg)`,borderRadius:o.round})},null,12,z),o.imgList.length>1?(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[o.imgList.length>1?(e.openBlock(),e.createBlock(e.unref(a.VToolbar),{key:0,class:"right-button",round:"",onClick:n[0]||(n[0]=c=>g("next"))},{default:e.withCtx(()=>[e.createVNode(e.unref(t.VToolbarItem),{icon:e.unref(y.default),"icon-size":"25px"},null,8,["icon"])]),_:1})):e.createCommentVNode("",!0),o.imgList.length>1?(e.openBlock(),e.createBlock(e.unref(a.VToolbar),{key:1,class:"left-button",round:"",onClick:n[1]||(n[1]=c=>g("prev"))},{default:e.withCtx(()=>[e.createVNode(e.unref(t.VToolbarItem),{icon:e.unref(x.default),"icon-size":"25px"},null,8,["icon"])]),_:1})):e.createCommentVNode("",!0)],64)):e.createCommentVNode("",!0),o.isCloseBtn?(e.openBlock(),e.createBlock(e.unref(a.VToolbar),{key:1,class:"close-button",round:"",onClick:f},{default:e.withCtx(()=>[e.createVNode(e.unref(t.VToolbarItem),{icon:e.unref(_.default),"icon-size":"20px"},null,8,["icon"])]),_:1})):e.createCommentVNode("",!0),o.isOption?(e.openBlock(),e.createBlock(e.unref(a.VToolbar),{key:2,class:"option-toolbar",round:"",onClick:h},{default:e.withCtx(()=>[e.createVNode(e.unref(t.VToolbarItem),{icon:e.unref(q.default),"data-key":1},null,8,["icon"]),e.createVNode(e.unref(t.VToolbarItem),{icon:e.unref(j.default),"data-key":2},null,8,["icon"]),e.createVNode(e.unref(t.VToolbarItem),{icon:e.unref(B.default),"data-key":3},null,8,["icon"]),e.createVNode(e.unref(t.VToolbarItem),{icon:e.unref(T.default),"data-key":4},null,8,["icon"]),e.createVNode(e.unref(t.VToolbarItem),{icon:e.unref(N.default),"data-key":5},null,8,["icon"])]),_:1})):e.createCommentVNode("",!0)],44,L)):e.createCommentVNode("",!0)]),_:1}))}});exports.default=F;
