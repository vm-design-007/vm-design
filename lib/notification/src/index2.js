"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const e=require("vue"),E=require("../../close-btn/index.js"),N=require("../../_utils/index3.js"),v=require("./index3.js"),S=require("../../_model/notification/index2.js"),_=require("../../_model/notification/index.js"),T={key:0,class:"v-notification__icon"},D={class:"v-notification__info"},j={class:"v-notification__title"},q={key:1,class:"v-notification__title-text"},x={key:1,class:"v-notification__text"},z=e.defineComponent({name:"VMessage"}),w=e.defineComponent({...z,props:v.Props,emits:v.Emits,setup(k,{expose:g}){const t=k,l=e.computed(()=>t.icon?t.icon:t.type?S.notificationDefaultIcon[t.type]:null),m=e.ref(),d=e.ref(0),s=e.ref(!1),y=e.computed(()=>t.placement.includes("top")),B=e.computed(()=>t.placement.includes("right")),h=e.computed(()=>_.massageManage.getSiblingOffset(t.placement,t.id,!y.value)),a=e.computed(()=>t.offset+h.value),C=e.computed(()=>d.value+a.value);e.onMounted(()=>{e.nextTick(()=>{d.value=m.value.getBoundingClientRect().height})});const V=e.computed(()=>{const{type:o,round:n,close:c,placement:i}=t;return["v-notification",{[`v-notification__${o}`]:o,[`v-notification__${i}`]:i,"v-notification__round":n,"v-notification__hasClose":c}]}),M=e.computed(()=>{const{color:o,background:n,zIndex:c}=t,i={color:o,background:n,zIndex:c};return t.placement.includes("bottom")?i.bottom=a.value+"px":i.top=a.value+"px",i}),r=e.ref(),f=()=>{!r.value||clearTimeout(r.value)},u=()=>{f(),s.value=!1},b=()=>{_.massageManage.removeInstance(t.placement,t.id)},p=()=>{!t.duration||(r.value=setTimeout(()=>{u()},t.duration))};return e.onMounted(()=>{p(),s.value=!0}),g({visible:s,bottom:C,close:u}),(o,n)=>(e.openBlock(),e.createBlock(e.Transition,{mode:"out-in",name:"v-notification-fade"+(e.unref(B)?"-right":"-left"),onBeforeLeave:b,onAfterLeave:n[0]||(n[0]=c=>o.$emit("destroy"))},{default:e.withCtx(()=>[e.withDirectives(e.createElementVNode("div",{ref_key:"notificationRef",ref:m,class:e.normalizeClass(e.unref(V)),style:e.normalizeStyle(e.unref(M)),onMouseleave:p,onMouseenter:f},[o.showIcon&&e.unref(l)?(e.openBlock(),e.createElementBlock("div",T,[e.isVNode(e.unref(l))?(e.openBlock(),e.createBlock(e.resolveDynamicComponent(e.unref(l)),{key:0,size:28})):e.createCommentVNode("",!0)])):e.createCommentVNode("",!0),e.createElementVNode("div",D,[e.createElementVNode("div",j,[e.isVNode(o.title)?(e.openBlock(),e.createBlock(e.resolveDynamicComponent(o.title),{key:0})):(e.openBlock(),e.createElementBlock("h3",q,e.toDisplayString(o.title),1))]),e.isVNode(o.message)?(e.openBlock(),e.createBlock(e.resolveDynamicComponent(o.message),{key:0})):(e.openBlock(),e.createElementBlock("div",x,e.toDisplayString(o.message),1))]),t.close?(e.openBlock(),e.createElementBlock("div",{key:1,class:"v-notification__close",onClick:u},[e.unref(N.isString)(o.closeBtn)?(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[e.createTextVNode(e.toDisplayString(o.closeBtn),1)],64)):(e.openBlock(),e.createBlock(e.unref(E.VCloseBtn),{key:1,size:16}))])):e.createCommentVNode("",!0)],38),[[e.vShow,s.value]])]),_:1},8,["name"]))}});exports.default=w;
